<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
	</f:facet>
	<title>Websocket</title>

</h:head>

<h:body>
	<h:form>
		<h:commandButton value="Clock" action="#{pushBean.clockAction()}">
			<f:ajax />
		</h:commandButton>
	</h:form>

	<o:socket channel="clock" onmessage="socketListener" />

	<hr />
	<div id="clockId"></div>

	<script type="text/javascript">
		function socketListener(message, channel, event) {
			console.log(message)
		}
	</script>
</h:body>


</html>
